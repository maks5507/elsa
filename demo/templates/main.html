<!DOCTYPE html>
<head>
  <meta charset="utf-8">

  <title>ELSA | Extractive Linking of Summarization Approaches</title>

  <!-- Google fonts -->
  <link href='https://fonts.googleapis.com/css?family=Oswald:300,400' rel='stylesheet' type='text/css'>
  <link href='https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="http://maksimeremeev.com/files/css/reset.css">
  <link rel="stylesheet" href="http://maksimeremeev.com/files/css/styles.css">
  <link rel="stylesheet" href="http://maksimeremeev.com/files/css/skeleton.css">

  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

  <script type="text/javascript">
      $(document).ready(function(){
        let starting_height = $("#textarea1").height();

        let type = 'elsa-bart-cnn';

        $("#textarea1").keyup(function () {
          console.log(Math.max(this.scrollHeight, starting_height));
          this.style.height = Math.max(this.scrollHeight, starting_height) + 'px';
        });

        {% for model_name in models %}
          $("#{{ model_name }}").click(function(){
            type = '{{ model_name }}';
            {% for model_name in models %}
              $('#{{ model_name }}-li').removeClass('active');
            {% endfor %}
            $('#' + type + '-li').addClass('active');
          });
        {% endfor %}

        $("#submit").click(function() {
          let data = {};
          data['text'] = $("#textarea").val();
          data['elsa_id'] = type;

          $.ajax({
            type: "POST",
            url: "/api/v1/run",
            data: JSON.stringify(data),
            success: function(result) {
              $('#result').html(result);
            }
          });
          return false;
        });
      });
  </script>
</head>

<body>

  <header>
		<nav>
			<div class='container'>
				<div>
          <h2>Exatrctive Linking of Summarization Approaches</h2> <br>
				</div>

				<div class='eleven columns'>
					<ul class='mainMenu'>
					</ul>
				</div>
			</div>
		</nav>
	</header>

  <div class='container-fluid focus'>
    <div class="row p-4">
      <div class='col-4 margin-top-30'>
        <img src='http://maksimeremeev.com/files/img/lang.png' height="64" width="64">
        <h4><strong>ELSA</strong></h4>
        <p></p>
      </div>
      <div class='col-4 margin-top-30'>
        <img src='http://maksimeremeev.com/files/img/model.png' height="64" width="64">
        <h4><strong>Aggregating Extractive Approaches</strong></h4>
        <p></p>
      </div>
      <div class='col-4 margin-top-30'>
        <img src='http://maksimeremeev.com/files/img/marker.png' height="64" width="64">
        <h4><strong>Extractive Attention Masking</strong></h4>
        <p></p>
      </div>
    </div>
  </div>

<div class="container-fluid">
    <ul class="pagination p-4 pull-left">
      {% for model_name in models %}
        <li class="page-item" id="{{ model_name }}-li"><input type="button" class="page-link" id="{{ model_name }}" value="{{ model_values[model_name] }}"></li>
      {% endfor %}
      <li class="page-item ml-5"><input type="button" id="submit" style="color: white;" class="form-control bg bg-success" value="Estimate"></li>
    </ul>
    <div class="row p-4">
      <div class="col-6">
        <span><strong>Insert your text:</strong></span>
        <textarea class="form-control" id="textarea" rows="20">{{ text }}</textarea>
      </div>
      <div class="col-6">
        <span><strong>Receive the result:</strong></span>
	<div id="result"></div>
      <div>
    </div>
</div>
<footer>
    <div class='container'>
       <div class='eight columns'>
           <h5>Â© Quantile-Based Text Complexity Estimation 2020</h5>
	   <h6>Powered By Maksim Eremeev & Konstantin Vorontsov</h6>
       </div>
       <div class='seven columns'>
           <h5>Contact Us:</h5>
	   <p>E-mail: <a href='mailto:maks5507@yandex.ru'>Head of Developement</a></p>
       </div>
     </div>
</footer>
</body>
